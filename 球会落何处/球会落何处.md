## 题目：

​	用一个大小为 `m x n` 的二维网格 `grid` 表示一个箱子。你有 `n` 颗球。箱子的顶部和底部都是开着的。

箱子中的每个单元格都有一个对角线挡板，跨过单元格的两个角，可以将球导向左侧或者右侧。

- 将球导向右侧的挡板跨过左上角和右下角，在网格中用 `1` 表示。
- 将球导向左侧的挡板跨过右上角和左下角，在网格中用 `-1` 表示。

在箱子每一列的顶端各放一颗球。每颗球都可能卡在箱子里或从底部掉出来。如果球恰好卡在两块挡板之间的 "V" 形图案，或者被一块挡导向到箱子的任意一侧边上，就会卡住。

返回一个大小为 `n` 的数组 `answer` ，其中 `answer[i]` 是球放在顶部的第 `i` 列后从底部掉出来的那一列对应的下标，如果球卡在盒子里，则返回 `-1` 。



来源：力扣（LeetCode） 链接：https://leetcode-cn.com/problems/SNJvJP 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

<!--more-->

**示例 1：**

![ball](https://gitee.com/misteryliu/typora/raw/master/image/ball.jpg)

```
输入：grid = [[1,1,1,-1,-1],[1,1,1,-1,-1],[-1,-1,-1,1,1],[1,1,1,1,-1],[-1,-1,-1,-1,-1]]
输出：[1,-1,-1,-1,-1]
解释：示例如图：
b0 球开始放在第 0 列上，最终从箱子底部第 1 列掉出。
b1 球开始放在第 1 列上，会卡在第 2、3 列和第 1 行之间的 "V" 形里。
b2 球开始放在第 2 列上，会卡在第 2、3 列和第 0 行之间的 "V" 形里。
b3 球开始放在第 3 列上，会卡在第 2、3 列和第 0 行之间的 "V" 形里。
b4 球开始放在第 4 列上，会卡在第 2、3 列和第 1 行之间的 "V" 形里。
```

**示例 2：**

```
输入：grid = [[-1]]
输出：[-1]
解释：球被卡在箱子左侧边上。
```

**示例 3：**

```
输入：grid = [[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1],[1,1,1,1,1,1],[-1,-1,-1,-1,-1,-1]]
输出：[0,1,2,3,4,-1]
```

## 思路：

- 模拟整个过程

- 对小球进行遍历

  - 对该小球对应的每一列进行模拟
  - 两个都为1，并且不是最后一列，则++
  - 两个都为-1，并且不是最左边，则--
  - 一个为1，一个为-1，则相交
  - 如果检测到已经撞墙，则返回

  ## 代码：

  

```java
public int[] findBall(int[][] grid) {
        int m= grid.length;
//        至少有一列
        int n=grid[0].length;
//        创建保存结果的集合
        int[] result=new int[n];
//        对小球遍历
        for (int i=0;i<n;i++){
            int k=i;
//            要对这一列的所有行进行遍历
            for (int j=0;j<m;j++){
//                这个k!=n-1;比如放在grid[j][k+1]==1前面，防止后面越界
                if (grid[j][k]==1 && k!=n-1 && grid[j][k+1]==1 ){
                    k++;
                }
//                这个k!=0;比如放在grid[j][k-1]==-1前面，防止后面越界
                else if (grid[j][k]==-1 && k!=0 && grid[j][k-1]==-1 ){
                    k--;
                }
//                不属于上面两种情况说明已经撞到墙了
                else {
                    result[i]=-1;
                    break;
                }
//                如果能够顺畅往前一直走到头，就可以把这个值设为最后一个数
                if (j==m-1){
                    result[i]=k;
                };
            }
        }
        return result;
    }
```

## 结果：

![image-20220224140617300](https://gitee.com/misteryliu/typora/raw/master/image/image-20220224140617300.png)